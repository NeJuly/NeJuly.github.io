---
title: 使用 Charles 获取 https 的数据
date: 2020-04-30
author: NeJuly
tags: 
  - charles
location: 重庆  
---

使用的 Charles 版本是 3.11.2，获取下载地址可自行百度，我下面要说的是使用 Charles 获取 https 的数据。<br/>

1. 配置 Charles 根证书<br/>
首先打开 Charles：<br/>

![Image text](/assets/img/charles/1.png)




然后如下图操作：<br/>
![Image text](/assets/img/charles/2.png)<br/>

之后会弹出钥匙串，如果不弹出，请自行打开钥匙串，如下图：<br/>
![Image text](/assets/img/charles/3.png)<br/>


系统默认是不信任 Charles 的证书的，此时对证书右键，在弹出的下拉菜单中选择『显示简介』，点击使用此证书时，把使用系统默认改为始终信任，如下图：<br/>
![Image text](/assets/img/charles/4.png)<br/>

![Image text](/assets/img/charles/5.png)<br/>

然后关闭，就会发现 charles 的证书已经被信任了，如下图：<br/>
![Image text](/assets/img/charles/6.png)<br/>
2. 在移动设备上配置证书<br/>
如下图，选择在移动设备上安装 Charles 根证书：<br/>
![Image text](/assets/img/charles/7.png)<br/>

会弹出一个提示框，如下图：<br/>
![Image text](/assets/img/charles/8.png)<br/>


然后打开手机的浏览器，输入<br/>
`charlesproxy.com/getssl` 会弹出如下界面：<br/>
![Image text](/assets/img/charles/9.png)<br/>

点击安装即可。<br/>

进入手机设置界面：<br/>
![Image text](/assets/img/charles/10.png)<br/>

这里以简书为例…
![Image text](/assets/img/charles/11.png)<br/>

此时还是获取不到 https 的数据，各位童鞋不要着急，下面还有操作，接着还是进入 Charles ,如下图操作：<br/>

![Image text](/assets/img/charles/12.png)<br/>

如下图，勾选`Enable SSL Proxying`,点击添加，弹出下面的对话框，Host 表示你要抓取的 ip 地址或是链接，Port 填写 443 即可：<br/>
![Image text](/assets/img/charles/13.png)<br/>


设置完成后，就可以抓取数据啦，如下图：
![Image text](/assets/img/charles/14.png)<br/> 
